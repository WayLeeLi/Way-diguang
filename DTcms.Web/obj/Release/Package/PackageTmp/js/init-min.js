KISSY.add("wangpu/init",function(d){KISSY.config("modules",{"wangpu/base":{requires:["core"]},"wangpu/decoration/shopmonitor":{requires:["core"]},"wangpu/mods/official/srch-inshop":{requires:["core"]},"wangpu/mods/official/tmall-srch-list/util":{requires:["core"]},"wangpu/mods/official/nav":{requires:["core","overlay"]},"wangpu/mods/official/bulletin":{requires:["core"]},"wangpu/mods/official/top-list":{requires:["core","template"]},"wangpu/mods/official/tmall-srch-list/crumb":{requires:["core","template","wangpu/mods/official/tmall-srch-list/util"]},"wangpu/mods/official/custom-banner":{requires:["core"]},"wangpu/mods/other/taoke-recharge":{requires:["core"]},"wangpu/mods/official/tmall-srch-list":{requires:["core","wangpu/mods/official/tmall-srch-list/crumb","wangpu/mods/official/tmall-srch-list/attr","wangpu/mods/official/tmall-srch-list/filter","wangpu/mods/official/tmall-srch-list/item","wangpu/mods/official/tmall-srch-list/atp"]},"wangpu/mods/official/tmall-srch-list/item":{requires:["core"]},"wangpu/mods/official/item-recommend":{requires:["core","wangpu/decoration/compatible"]},"wangpu/mods/official/coupon":{requires:["core","overlay","wangpu/decoration/compatible"]},"wangpu/mods/other/customer-service":{requires:["core"]},"wangpu/mods/official/self-defined":{requires:["core"]},"wangpu/mods/official/nav-ch":{requires:["core","overlay","wangpu/decoration/compatible"]},"wangpu/mods/official/item-cates":{requires:["core"]},"wangpu/mods/official/header":{requires:["core","cookie","suggest","overlay","wangpu/decoration/compatible","xtemplate"]},"wangpu/decoration/init":{requires:["core","switchable","overlay","wangpu/decoration/compatible","wangpu/decoration/countdown","datalazyload","wangpu/decoration/isv","wangpu/decoration/shopmonitor"]},"wangpu/mods/official/srch-list":{requires:["core"]},"wangpu/mods/official/tmall-srch-list/attr":{requires:["core","template"]},"wangpu/mods/official/full-slide":{requires:["core","switchable"]},"wangpu/decoration/countdown":{requires:["core"]},"wangpu/mods/official/tmall-vip-profile":{requires:["core"]},"wangpu/mods/official/tmall-srch-list/filter":{requires:["core"]},"wangpu/decoration/compatible":{requires:["core"]},"wangpu/mods/other/guanliantuijian":{requires:["core","template"]},"wangpu/mods/official/ww-hover":{requires:["core","cookie","wangpu/decoration/compatible"]},"wangpu/mods/official/main-slide":{requires:["core"]},"wangpu/mods/official/lab":{requires:["core","switchable","datalazyload","wangpu/decoration/init"]},"wangpu/mods/official/friend-link":{requires:["core"]},"wangpu/mods/other/recharge-center":{requires:["core"]},"wangpu/mods/official/shopcookie":{requires:["core"]},"wangpu/mods/official/new-signboard":{requires:["core"]},"wangpu/mods/official/fans-price-activity":{requires:["core"]},"wangpu/mods/official/fans-price-list":{requires:["core"]},"wangpu/mods/official/cross-shop":{requires:["core","template"]}});var b={assetsHost:"http://a.tbcdn.cn",pageType:"wangpu",lazyContainers:"body",isvParams:{}},a={wangpu:["official/header","official/header-v2","official/nav","official/nav-ch","official/bulletin","official/custom-banner","official/friend-link","official/main-slide","official/item-cates","official/item-recommend","official/self-defined","official/srch-inshop","official/top-list","official/ww-hover","official/srch-list","official/coupon","other/customer-service","other/guanliantuijian","other/recharge-center","other/taoke-recharge","other/cainixihuan","official/lab","official/shopcookie","official/new-signboard","official/cross-shop","official/fans-price-activity","official/fans-price-list"],tmall:["official/custom-banner","official/friend-link","official/main-slide","official/item-cates","official/item-recommend","official/nav-ch","official/self-defined","official/srch-inshop","official/top-list","official/ww-hover","official/tmall-srch-list","official/tmall-vip-profile","other/customer-service","other/guanliantuijian","other/taoke-recharge","official/lab"],cdetail:["official/header-v2","official/nav","official/nav-ch","official/custom-banner","official/main-slide","official/friend-link","official/item-cates","official/top-list","official/item-recommend","official/srch-inshop","official/self-defined","official/coupon","official/ww-hover","other/customer-service","other/taoke-recharge","other/guanliantuijian","other/cainixihuan","official/new-signboard"],tmalldetail:["official/nav-ch","official/custom-banner","official/main-slide","official/friend-link","official/item-cates","official/top-list","official/item-recommend","other/guanliantuijian","official/srch-inshop","official/self-defined","other/customer-service","other/taoke-recharge"],rate:["official/header","official/header-v2","official/nav","official/nav-ch","official/custom-banner"]};var c={init:function(g){d.log("wangpu  init start");var k=(new Date()).getTime();var f=d.merge(b,g),j=[],e=[];KISSY.config({combine:true,packages:[{name:"wangpu",tag:"20131018",path:f.assetsHost+"/apps/taesite/platinum/scripts/",charset:"utf-8"}]});j=a[f.pageType];e.push("wangpu/base");for(var h=0;h<j.length;h++){e.push("wangpu/mods/"+j[h])}e.push("wangpu/decoration/init");KISSY.use(e,function(i){var l=i.makeArray(arguments).slice(1);i.ready(function(n){var p=n.DOM,q={};n.each(l,function(r){try{o(r)}catch(s){n.log("\u521d\u59cb\u5316\u6a21\u5757\u51fa\u9519")}});function o(r){if(r.type=="base"){new r({mod:p.get("body")})}else{if(r.type=="decoration"){q={pageType:f.pageType,lazyContainers:f.lazyContainers,isvParams:f.isvParams,mod:p.get("#content")};if(f.pageType=="wangpu"){if(window.shop_config){window.shop_config.decoration=new r(q)}else{new r(q)}}else{new r(q)}}else{if(r.selector==".tshop-psm-shop-header"){new r({mod:p.get(r.selector)})}else{if(r.selector==".tshop-psm-shop-header2"){n.later(function(){new r({mod:p.get(r.selector)})},0)}else{if(r.selector==".tshop-psm-shop-ww-hover"){n.later(function(){new r({mod:p.get(r.selector)})},0)}else{n.each(p.query("#content "+r.selector),function(s){new r({mod:s})})}}}}}}n.log("wangpu  init end");var m=(new Date()).getTime();n.log("wangpu  init spend time ms:"+(m-k))})})}};return c});if(window.shop_config){KISSY.use("wangpu/init",function(b,a){a.init({assetsHost:window.g_config.assetsHost,pageType:window.g_config.pageType,lazyContainers:"body",isvParams:window.shop_config?window.shop_config.isvStat:{}})})};
